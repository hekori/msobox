C        Generated by TAPENADE     (INRIA, Tropics team)
C  Tapenade 3.6 (r4343) - 10 Feb 2012 10:52
C
C  Differentiation of ffcn in reverse (adjoint) mode:
C   gradient     of useful results: f p u x
C   with respect to varying inputs: p u x
C   RW status of diff variables: f:in-killed p:in u:incr x:incr
C ===============================================================================
C
C 	fortran ffcn for the splines example
C
C 	x1_dot = x2
C 	x2_dot = u
C 	x3_dot = u ** 2
C 
C 	x1 < 0.1
C 
C ===============================================================================
C
      SUBROUTINE FFCN_B_XPU(t, x, x_b, f, f_b, p, p_b, u, u_b)
      IMPLICIT NONE
C
C
      DOUBLE PRECISION x(3), f(3), p(1), u(1), t
      DOUBLE PRECISION x_b(3), f_b(3), p_b(1), u_b(1)
C
      f(1) = x(2)
      f(2) = u(1)
      f(3) = u(1)**2
      u_b(1) = u_b(1) + 2*u(1)*f_b(3)
      f_b(3) = 0.D0
      u_b(1) = u_b(1) + f_b(2)
      f_b(2) = 0.D0
      x_b(2) = x_b(2) + f_b(1)
      END
C
C ===============================================================================

